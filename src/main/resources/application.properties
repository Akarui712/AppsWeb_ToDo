spring.application.name=todo

# H2 datasource (env-first con valores por defecto sensatos)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:mem:${DB_NAME:appdb};MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:${DB_USER:sa}}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:${DB_PASSWORD:}}
spring.datasource.driver-class-name=org.h2.Driver

# JPA/Hibernate
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Para desarrollo puedes usar 'update'; sobreescribe v√≠a SPRING_JPA_HIBERNATE_DDL_AUTO
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}

# Opcional: mostrar SQL en logs (conmutable por env)
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}

# Consola web de H2 (opcional)
spring.h2.console.enabled=${SPRING_H2_CONSOLE_ENABLED:true}
spring.h2.console.path=${SPRING_H2_CONSOLE_PATH:/h2-console}

